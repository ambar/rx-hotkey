{"version":3,"sources":["webpack:///./src/utils.js","webpack:///./src/hotkey.js","webpack:///./examples/hooks.js","webpack:///./examples/TimelineExample.js","webpack:///./examples/Timeline.mdx"],"names":["canUseDOM","document","isValidEvent","event","el","target","test","tagName","isContentEditable","key","includes","matchEvent","hotkey","obj","partial","comparator","arguments","length","undefined","a","b","Object","keys","every","k","matchObject","_objectSpread","shiftKey","toLowerCase","keyBindings","Map","keyBindings$","Subject","createHotkey","element","scope","keys$","fromEvent","pipe","filter","scopeId","handler","options","scopedKeyBindings","get","set","hotkey_objectSpread","next","hotkeys","split","map","reduce","o","ctrlKey","altKey","metaKey","parseHotkeys","matchEvents","events","Array","isArray","e","i","output$","take","switchMap","first$","startWith","bufferCount","timeoutWith","subscription","subscribe","delete","size","unsubscribe","useLiveHandler","handlerRef","useRef","current","useCallback","apply","useHotkey","liveHandler","useEffect","concat","_toConsumableArray","values","ScopedHotkeyContext","React","createContext","useScopedHotkey","hotkeyRef","useContext","console","warn","useKeyBindings","_useState2","_slicedToArray","useState","setKeyBindings","Receptacle","props","core_browser_esm","assign","css","margin","maxWidth","display","flexDirection","Button","alignItems","height","outline","border","borderRadius","backgroundColor","&:focus, &:hover","Timeline","selector","getFocusableItems","getActiveIndex","ulRef","querySelectorAll","TimelineExample_toConsumableArray","focusableItems","findIndex","item","contains","activeElement","activeIndex","itemToFocus","tabIndex","focus","name","ref","padding","TimelineExample_TimelineItem","TimelineItem","nodeRef","ScopedHotKeyContextProvider","createProvider","_ref","children","createElement","Provider","value","providerRef","useLayoutEffect","useScopedHotkeyContextProvider","marginBottom","background","listStyle","&:focus-within","borderColor","href","width","& button","marginRight","TimelineExample_LikeButton","TimelineExample_ShareButton","LikeButton","TimelineExample_slicedToArray","liked","setLiked","handleLike","TimelineExample_Button","onClick","String","ShareButton","_useState4","shared","setShared","handleShare","HelpDialog","_useState6","open","setOpen","showHelpDialog","dialog","showModal","position","top","transform","TimelineExample_KeyBindings","textAlign","close","SearchBar","inputRef","preventDefault","alignContent","justifyItems","boxShadow","TimelineExample_Receptacle","justifyContent","placeholder","minWidth","KeyBindings","h2, h3","flexWrap","_ref2","bindings","textTransform","kbd","dt","dt, dd","whiteSpace","boxSizing","sort","_ref3","_ref4","keysA","keysB","localeCompare","_ref7","_ref8","react","GlobalScroll","_useSpring2","useSpring","to","onFrame","window","scrollTo","scrollToTop","scrollToBottom","body","scrollHeight","innerHeight","TimelineExample","TimelineExample_SearchBar","TimelineExample_Timeline","TimelineExample_HelpDialog","TimelineExample_GlobalScroll","MDXContent","_this","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","call","layout","Component","_this$props","components","_objectWithoutProperties","react_default","dist"],"mappings":"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","file":"static/js/examples-timeline.4e2f2443.js","sourcesContent":["export const canUseDOM = typeof document !== 'undefined'\n\n// https://mdn.io/KeyboardEvent/key/Key_Values#Modifier_keys\nconst isModifier = key => ['Control', 'Shift', 'Alt', 'Meta'].includes(key)\n\nconst isInput = el =>\n  /^(input|textarea|select)$/i.test(el.tagName) || el.isContentEditable\n\nexport const isValidEvent = event =>\n  !isInput(event.target) && !isModifier(event.key)\n\nexport const parseHotkeys = keys =>\n  keys.split(' ').map(key => {\n    const hotkey = {\n      key: null,\n      ctrlKey: false,\n      altKey: false,\n      metaKey: false,\n      shiftKey: false,\n    }\n    return key\n      .split('+')\n      .map(k => k.toLowerCase())\n      .reduce((o, k) => {\n        if (k === 'ctrl') {\n          o.ctrlKey = true\n        } else if (k === 'alt') {\n          o.altKey = true\n        } else if (k === 'shift') {\n          o.shiftKey = true\n        } else if (k === 'meta') {\n          o.metaKey = true\n        } else {\n          o.key = k\n        }\n        return o\n      }, hotkey)\n  })\n\nexport const matchObject = (obj, partial, comparator = (a, b) => a === b) =>\n  Object.keys(partial).every(k => comparator(partial[k], obj[k]))\n\nconst shiftedKeys = '~!@#$%^&*()_+{}|:\"<>?'\n\nexport const matchEvent = (event, hotkey) =>\n  matchObject(\n    event,\n    shiftedKeys.includes(hotkey.key) ? {...hotkey, shiftKey: true} : hotkey,\n    (a, b) =>\n      typeof a === 'string' && typeof b === 'string'\n        ? a.toLowerCase() === b.toLowerCase()\n        : a === b\n  )\n","import {fromEvent, Subject} from 'rxjs'\nimport {\n  take,\n  filter,\n  bufferCount,\n  switchMap,\n  startWith,\n  timeoutWith,\n} from 'rxjs/operators'\nimport {canUseDOM, isValidEvent, parseHotkeys, matchEvent} from './utils'\n\nconst maxSequenceTimeout = 1500\nconst keyBindings = new Map()\nconst keyBindings$ = new Subject()\n\nexport const createHotkey = (element, {scope} = {}) => {\n  if (!canUseDOM) {\n    return () => () => {}\n  }\n\n  const keys$ = fromEvent(element, 'keydown').pipe(filter(isValidEvent))\n  const scopeId = scope || element\n\n  return (keys, handler, options) => {\n    let scopedKeyBindings = keyBindings.get(scopeId)\n    if (!scopedKeyBindings) {\n      scopedKeyBindings = new Map()\n      keyBindings.set(scopeId, scopedKeyBindings)\n    }\n    scopedKeyBindings.set(keys, {...options})\n    keyBindings$.next(new Map(keyBindings))\n\n    const hotkeys = parseHotkeys(keys)\n    const matchEvents = filter(events =>\n      (Array.isArray(events) ? events : [events]).every((e, i) =>\n        matchEvent(e, hotkeys[i])\n      )\n    )\n    const output$ =\n      hotkeys.length === 1\n        ? keys$.pipe(matchEvents)\n        : keys$.pipe(\n            take(1),\n            switchMap(first$ =>\n              keys$.pipe(\n                startWith(first$),\n                bufferCount(hotkeys.length, 1),\n                timeoutWith(maxSequenceTimeout, output$)\n              )\n            ),\n            matchEvents\n          )\n\n    const subscription = output$.subscribe(handler)\n    return () => {\n      scopedKeyBindings.delete(keys)\n      if (!scopedKeyBindings.size) {\n        keyBindings.delete(scopeId)\n      }\n      keyBindings$.next(new Map(keyBindings))\n      subscription.unsubscribe()\n    }\n  }\n}\n\nexport const getKeyBindings = () => keyBindings\nexport const listenKeyBindings = handler => {\n  const subscription = keyBindings$.subscribe(handler)\n  return () => subscription.unsubscribe()\n}\n\nexport const hotkey = createHotkey(canUseDOM ? document : undefined, {\n  scope: 'global',\n})\n","import React, {\n  useEffect,\n  useLayoutEffect,\n  useContext,\n  useState,\n  useCallback,\n  useRef,\n} from 'react'\nimport {hotkey, createHotkey, getKeyBindings, listenKeyBindings} from '..'\n\nconst useLiveHandler = handler => {\n  const handlerRef = useRef()\n  handlerRef.current = useCallback(handler, [handler])\n  return (...args) => handlerRef.current(...args)\n}\n\nexport const useHotkey = (key, handler, options = {}) => {\n  const liveHandler = useLiveHandler(handler)\n  useEffect(() => hotkey(key, liveHandler, options), [\n    key,\n    ...Object.values(options),\n  ])\n}\n\nconst ScopedHotkeyContext = React.createContext()\n\nexport const useScopedHotkey = (key, handler, options = {}) => {\n  const hotkeyRef = useContext(ScopedHotkeyContext)\n  const liveHandler = useLiveHandler(handler)\n  useEffect(() => {\n    if (!hotkeyRef) {\n      console.warn('Could not find `ScopedHotkeyContext`')\n      return\n    }\n    return hotkeyRef.current(key, liveHandler, options)\n  }, [key, ...Object.values(options)])\n}\n\nexport const useScopedHotkeyContextProvider = (nodeRef, options = {}) => {\n  const createProvider = () => ({children}) =>\n    React.createElement(ScopedHotkeyContext.Provider, {\n      value: hotkeyRef,\n      children,\n    })\n\n  const hotkeyRef = useRef(null)\n  const providerRef = useRef(createProvider())\n  // initialize before consuming\n  useLayoutEffect(() => {\n    hotkeyRef.current = createHotkey(nodeRef.current, options)\n    providerRef.current = createProvider()\n  }, [nodeRef.current, ...Object.values(options)])\n\n  return providerRef.current\n}\n\nexport const useKeyBindings = () => {\n  const [keyBindings, setKeyBindings] = useState(getKeyBindings())\n  useEffect(() => listenKeyBindings(setKeyBindings), [])\n  return keyBindings\n}\n","/** @jsx jsx */\nimport {jsx} from '@emotion/core'\nimport {animated, useSpring} from 'react-spring'\nimport React, {Fragment, useRef, useState} from 'react'\nimport {\n  useHotkey,\n  useScopedHotkey,\n  useScopedHotkeyContextProvider,\n  useKeyBindings,\n} from './hooks'\n\nexport const useListHotkey = selector => {\n  const getFocusableItems = () => [...selector()]\n\n  const getActiveIndex = focusableItems =>\n    focusableItems.findIndex(item => item.contains(document.activeElement))\n\n  const focusNext = () => {\n    const focusableItems = getFocusableItems()\n    const activeIndex = getActiveIndex(focusableItems)\n    const itemToFocus =\n      activeIndex === -1 ? focusableItems[0] : focusableItems[activeIndex + 1]\n    if (itemToFocus) {\n      itemToFocus.tabIndex = -1\n      itemToFocus.focus()\n    }\n  }\n\n  const focusPrev = () => {\n    const focusableItems = getFocusableItems()\n    const activeIndex = getActiveIndex(focusableItems)\n    const itemToFocus =\n      activeIndex === -1 ? focusableItems[0] : focusableItems[activeIndex - 1]\n    if (itemToFocus) {\n      itemToFocus.tabIndex = -1\n      itemToFocus.focus()\n    }\n  }\n\n  useHotkey('j', focusNext, {name: 'Next item'})\n  useHotkey('k', focusPrev, {name: 'Prev item'})\n}\n\nconst Receptacle = props => (\n  <div\n    {...props}\n    css={{\n      margin: '0 auto',\n      maxWidth: '980px',\n      display: 'flex',\n      flexDirection: 'column',\n    }}\n  />\n)\n\nconst Button = props => (\n  <button\n    {...props}\n    css={{\n      display: 'flex',\n      alignItems: 'center',\n      height: '32px',\n      outline: 'none',\n      border: 'none',\n      borderRadius: 3,\n      backgroundColor: 'rgba(29, 33, 41, .04)',\n      '&:focus, &:hover': {\n        backgroundColor: 'rgba(29, 33, 41, .14)',\n      },\n    }}\n  />\n)\n\nconst Timeline = () => {\n  const ulRef = useRef(null)\n  useListHotkey(() => ulRef.current.querySelectorAll('li'))\n\n  return (\n    <ul ref={ulRef} css={{margin: 0, padding: 0}}>\n      <TimelineItem />\n      <TimelineItem />\n      <TimelineItem />\n      <TimelineItem />\n      <TimelineItem />\n    </ul>\n  )\n}\n\nconst TimelineItem = props => {\n  const nodeRef = useRef(null)\n  const ScopedHotKeyContextProvider = useScopedHotkeyContextProvider(nodeRef, {\n    scope: 'content',\n  })\n\n  return (\n    <ScopedHotKeyContextProvider>\n      <li\n        {...props}\n        ref={nodeRef}\n        css={{\n          marginBottom: '.8em',\n          padding: '12px',\n          border: '1px solid #dddfe2',\n          borderRadius: '3px',\n          background: '#fff',\n          listStyle: 'none',\n          '&:focus-within': {\n            outline: 'none',\n            borderColor: '#5890ff',\n          },\n        }}\n      >\n        {/* avatar */}\n        <a\n          href=\"#\"\n          css={{\n            display: 'block',\n            width: 30,\n            height: 30,\n            borderRadius: '50%',\n            backgroundColor: '#ddd',\n          }}\n        />\n        {/* content */}\n        <div css={{margin: '12px 0', height: 120, backgroundColor: '#eee'}} />\n        {/* actions */}\n        <div css={{display: 'flex', '& button': {marginRight: 10}}}>\n          <LikeButton />\n          <ShareButton />\n        </div>\n      </li>\n    </ScopedHotKeyContextProvider>\n  )\n}\n\nconst LikeButton = () => {\n  const [liked, setLiked] = useState(false)\n  const handleLike = () => setLiked(!liked)\n  useScopedHotkey('l', handleLike, {name: 'Like'})\n\n  return (\n    <Button onClick={handleLike}>\n      <span>Like: {String(liked)}</span>\n    </Button>\n  )\n}\n\nconst ShareButton = () => {\n  const [shared, setShared] = useState(false)\n  const handleShare = () => setShared(!shared)\n  useScopedHotkey('s', handleShare, {name: 'Share'})\n\n  return (\n    <Button onClick={handleShare}>\n      <span>Share: {String(shared)}</span>\n    </Button>\n  )\n}\n\nconst HelpDialog = () => {\n  const [open, setOpen] = useState(false)\n  const nodeRef = useRef(null)\n  const showHelpDialog = () => {\n    const dialog = nodeRef.current\n    if (!dialog.showModal) {\n      // Firefox\n      setOpen(true)\n      return\n    }\n    if (!dialog.open) dialog.showModal()\n  }\n  const hideHelpDialog = () => {\n    const dialog = nodeRef.current\n    if (!dialog.showModal) {\n      // Firefox\n      setOpen(false)\n      return\n    }\n    if (dialog.open) dialog.close()\n  }\n  useHotkey('?', showHelpDialog, {name: 'Show help'})\n  useHotkey('h e l p', showHelpDialog)\n\n  return (\n    <dialog\n      open={open}\n      ref={nodeRef}\n      css={{\n        position: 'fixed',\n        top: '50%',\n        transform: 'translate3d(0, -50%, 0)',\n        maxWidth: '600px',\n      }}\n    >\n      <KeyBindings />\n      <footer css={{textAlign: 'center'}}>\n        <button onClick={hideHelpDialog}>Close</button>\n      </footer>\n    </dialog>\n  )\n}\n\nconst SearchBar = () => {\n  const inputRef = useRef(null)\n  const focusInput = e => {\n    e.preventDefault()\n    inputRef.current.focus()\n  }\n  useHotkey('/', focusInput, {name: 'Search'})\n\n  return (\n    <div\n      css={{\n        display: 'flex',\n        alignContent: 'center',\n        justifyItems: 'center',\n        height: '48px',\n        backgroundColor: '#fff',\n        boxShadow: '0 1px 3px rgba(26, 26, 26, 0.1)',\n      }}\n    >\n      <Receptacle css={{justifyContent: 'center'}}>\n        <input\n          ref={inputRef}\n          placeholder=\"Search\"\n          css={{\n            padding: '.5em 1em',\n            borderRadius: '3px',\n            border: '1px solid #e6ecf0',\n            minWidth: 220,\n            outline: 'none',\n          }}\n        />\n      </Receptacle>\n    </div>\n  )\n}\n\nconst KeyBindings = () => {\n  const keyBindings = useKeyBindings()\n\n  return (\n    <pre css={{'h2, h3': {textAlign: 'center'}}}>\n      <h2>Type hotkey</h2>\n      <div\n        css={{\n          display: 'flex',\n          flexWrap: 'wrap',\n        }}\n      >\n        {[...keyBindings].map(([scope, bindings]) => (\n          <div\n            key={scope}\n            css={{\n              width: '50%',\n            }}\n          >\n            <h3 css={{textTransform: 'capitalize'}}>{scope}</h3>\n            <dl\n              css={{\n                display: 'flex',\n                flexWrap: 'wrap',\n                kbd: {\n                  padding: '2px 4px',\n                  backgroundColor: '#fafafa',\n                  border: '1px solid #ccc',\n                  borderRadius: '3px',\n                  boxShadow: 'inset 0 -1px 0 #bbb',\n                },\n                dt: {\n                  textAlign: 'right',\n                },\n                'dt, dd': {\n                  margin: '0',\n                  padding: '0 1em',\n                  width: '50%',\n                  whiteSpace: 'nowrap',\n                  boxSizing: 'border-box',\n                },\n              }}\n            >\n              {[...bindings]\n                .sort(([keysA], [keysB]) => keysA.localeCompare(keysB))\n                .map(\n                  ([keys, {name}]) =>\n                    name && (\n                      <Fragment key={keys}>\n                        <dt>\n                          <kbd>{keys}</kbd>\n                        </dt>\n                        <dd>{name}</dd>\n                      </Fragment>\n                    )\n                )}\n            </dl>\n          </div>\n        ))}\n      </div>\n    </pre>\n  )\n}\n\nconst GlobalScroll = () => {\n  const [_, set] = useSpring(() => ({\n    to: {top: 0},\n    onFrame(e) {\n      window.scrollTo({top: e.top})\n    },\n  }))\n  const scrollToTop = () => set({top: 0})\n  const scrollToBottom = () =>\n    set({top: document.body.scrollHeight - window.innerHeight})\n\n  useHotkey('g t', scrollToTop, {name: 'Scroll to top'})\n  useHotkey('g b', scrollToBottom, {name: 'Scroll to bottom'})\n  // ignores cases\n  useHotkey('alt+home', scrollToTop)\n  useHotkey('Alt+End', scrollToBottom)\n\n  return null\n}\n\nexport default () => {\n  return (\n    <div css={{backgroundColor: '#e9e9e9'}}>\n      <SearchBar />\n      <Receptacle css={{maxWidth: '600px'}}>\n        <KeyBindings />\n        <Timeline />\n      </Receptacle>\n      <footer css={{display: 'flex', height: 220}}>\n        <Receptacle>Footer</Receptacle>\n      </footer>\n      <HelpDialog />\n      <GlobalScroll />\n    </div>\n  )\n}\n","\n  import React from 'react'\n  import { MDXTag } from '@mdx-js/tag'\n  import TimelineExample from './TimelineExample'\n\nconst layoutProps = {\n  \n};\nexport default class MDXContent extends React.Component {\n  constructor(props) {\n    super(props)\n    this.layout = null\n  }\n  render() {\n    const { components, ...props } = this.props\n\n    return <MDXTag\n             name=\"wrapper\"\n             \n             components={components}>\n<TimelineExample />\n           </MDXTag>\n  }\n}\n  "],"sourceRoot":""}